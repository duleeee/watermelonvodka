(this["webpackJsonpwatermelon-party"]=this["webpackJsonpwatermelon-party"]||[]).push([[0],{14:function(e){e.exports=JSON.parse('{"2024-06-25":{"participants":[{"team":"hostel mint","sex":"female","date":"2024-06-25","name":"Jane Doe","email":"jane.doe@example.com","drinkingName":"Jazzy Jane"},{"team":"team beach","sex":"","date":"","name":"first first","email":"duleee@gmail.com","drinkingName":"Firisty Thirsty"},{"team":"hostel mint","sex":"","date":"","name":"antonio margarete","email":"duleee@gmail.com","drinkingName":"Inglorious"}]},"2024-06-27":{"participants":[{"team":"team beach","sex":"female","date":"2024-06-27","name":"Alice Smith","email":"alice.smith@example.com","drinkingName":"Awesome Alice"}]}}')},24:function(e,t,a){e.exports=a.p+"static/media/party.71cc0b97.jpg"},26:function(e,t,a){e.exports=a(41)},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(23),r=a.n(c),o=(a(33),a(10)),s=a(4);a(34);var i=()=>{const e=Object(s.o)(),t=t=>{e("/dates?sex=".concat(t))};return l.a.createElement("div",{className:"home-page"},l.a.createElement("div",{className:"content"},l.a.createElement("h1",null,"WATERMELON BEACH OUTING AND PARTY"),l.a.createElement("p",null,"Select your sex:"),l.a.createElement("div",{className:"button-container"},l.a.createElement("button",{className:"selection-button",onClick:()=>t("male")},"Male"),l.a.createElement("button",{className:"selection-button",onClick:()=>t("female")},"Female"))))};var m=()=>l.a.createElement("div",null,l.a.createElement("h2",null,"What's your sex:"),l.a.createElement(o.b,{to:"/dates?gender=male"},l.a.createElement("button",null,"A Male")),l.a.createElement(o.b,{to:"/dates?gender=female"},l.a.createElement("button",null,"A Female"))),u=a(14),h=a(24),d=a.n(h);a(35);var p=e=>{let{selectedSex:t}=e;const[a,c]=Object(n.useState)([]),r=Object(s.o)();Object(n.useEffect)(()=>{const e=Object.keys(u).filter(e=>{const{participants:a}=u[e],n=a.filter(e=>"male"===e.sex).length,l=a.filter(e=>"female"===e.sex).length;return!(a.length>=28||"male"===t&&n>=16||"female"===t&&l>=28)});c(e),console.log("Available dates:",e)},[t]);return l.a.createElement("div",{className:"dates-page"},l.a.createElement("div",{className:"background-image",style:{backgroundImage:"url(".concat(d.a,")")}}),l.a.createElement("div",{className:"content"},l.a.createElement("h2",null,"Choose available date:"),l.a.createElement("div",{className:"dates-container"},a.length>0?a.map(e=>l.a.createElement("button",{key:e,className:"date-button",onClick:()=>(e=>{r("/participant-details?date=".concat(e))})(e)},(e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long"}).replace(/, \d{4}/,""))(e))):l.a.createElement("p",null,"No available dates"))))};a(36);var E=()=>{const[e,t]=Object(n.useState)(0),[a,c]=Object(n.useState)([{team:"",sex:"",date:"",name:"",email:"",drinkingName:""}]),[r,o]=Object(n.useState)([]),[i,m]=Object(n.useState)({}),[h,d]=Object(n.useState)(""),[p,E]=Object(n.useState)(""),b=Object(s.o)(),g=Object(s.m)(),f=new URLSearchParams(g.search).get("date");Object(n.useEffect)(()=>{if(!u[f])return void b("/dates");const{participants:e}=u[f],t=e.filter(e=>"male"===e.sex).length,a=e.filter(e=>"female"===e.sex).length;m({males:t,females:a,participants:e}),console.log("Initial Availability:",{males:t,females:a,participants:e})},[f,b]);const v=e=>{const{name:t,value:a}=e.target;c(e=>{const n=[...e];return n[0][t]=a,console.log("Updated Participants:",n),n})},y=()=>{if(1===e){if(2!==a[0].name.trim().split(/\s+/).length)return void d("Please enter your first and last name.");d("")}else if(2===e){if(n=a[0].email,!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n))return void E("Please enter a valid email address.");E("")}var n;t(e=>e+1),console.log("Next step:",e+1)};return l.a.createElement("div",{className:"participant-details"},0===e&&l.a.createElement("div",{className:"content"},l.a.createElement("h2",null,"Select your team"),l.a.createElement("div",{className:"button-container"},l.a.createElement("button",{className:"selection-button",onClick:()=>{v({target:{name:"team",value:"hostel mint"}}),t(1)}},"Hostel Mint"),l.a.createElement("button",{className:"selection-button",onClick:()=>{v({target:{name:"team",value:"team beach"}}),t(1)}},"Team Beach"),l.a.createElement("button",{className:"selection-button",onClick:()=>{v({target:{name:"team",value:"other"}}),t(1)}},"Other"))),1===e&&l.a.createElement("div",{className:"content"},l.a.createElement("h2",null,"Your first and last name"),l.a.createElement("input",{type:"text",name:"name",value:a[0].name,onChange:v}),h&&l.a.createElement("p",{className:"error-message"},h),l.a.createElement("div",{className:"button-container"},l.a.createElement("button",{className:"selection-button",onClick:y},"Next"))),2===e&&l.a.createElement("div",{className:"content"},l.a.createElement("h2",null,"What's your email, ",a[0].name.split(" ")[0],"?"),l.a.createElement("input",{type:"email",name:"email",value:a[0].email,onChange:v}),p&&l.a.createElement("p",{className:"error-message"},p),l.a.createElement("div",{className:"button-container"},l.a.createElement("button",{className:"selection-button",onClick:()=>t(1)},"Back"),l.a.createElement("button",{className:"selection-button",onClick:y},"Next"))),3===e&&l.a.createElement("div",{className:"content"},l.a.createElement("h2",null,"What's your drinking name?"),l.a.createElement("p",null,"If you don't have a drinking name, invent one; how would your friends call you when you drink?"),l.a.createElement("input",{type:"text",name:"drinkingName",value:a[0].drinkingName,onChange:v}),l.a.createElement("div",{className:"button-container"},l.a.createElement("button",{className:"selection-button",onClick:()=>t(2)},"Back"),l.a.createElement("button",{className:"selection-button",onClick:y},"Next"))),4===e&&l.a.createElement("div",{className:"content"},l.a.createElement("h2",null,"Confirmation"),l.a.createElement("p",null,"Please proceed to the front desk of the Hostel Mint or the Hostel Beach to pay for the event. The price is 12 euros per person for hostel guests. Please show them this screen, ",a[0].drinkingName,", or the confirmation email we have just sent you."),l.a.createElement("div",{className:"button-container"},l.a.createElement("button",{className:"selection-button",onClick:async()=>{console.log("handleFinish triggered");const e={...i},n=a[0],l=n.sex;if("male"===l&&e.males>=16)alert("No more slots available for males.");else if("female"===l&&e.females>=28)alert("No more slots available for females.");else{"male"===l?e.males+=1:e.females+=1,e.participants.push(n),m(e),o(e=>[...e,n]),console.log("Final Participants:",r.concat(n));try{const e=await fetch("http://localhost:5000/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({participants:r.concat(n),date:f,participantEmail:n.email,drinkingName:n.drinkingName})});if(!e.ok)throw new Error("Network response was not ok "+e.statusText);const a=await e.text();console.log("Email API response:",a),alert("Thank you for signing up! We have sent a confirmation email to ".concat(n.email,".")),t(4)}catch(c){console.error("Error:",c)}}}},"Finish"))))},b=a(25),g=a(15),f=a(18);const v=Object(b.a)({apiKey:"AIzaSyBJIZ3bJV1oxVpcfViHVtLGCI-KsW2YaXc",authDomain:"watermellon-party.firebaseapp.com",projectId:"watermellon-party",storageBucket:"watermellon-party.appspot.com",messagingSenderId:"862865095732",appId:"1:862865095732:web:bd5eda2d64365d68925e61"}),y=Object(g.b)(v),N=Object(f.c)(v),k=new g.a;var w=()=>{const[e,t]=Object(n.useState)(null),[a,c]=Object(n.useState)([]);Object(n.useEffect)(()=>{Object(g.c)(y,e=>{e?(t(e),r()):t(null)})},[]);const r=async()=>{try{const e=(await Object(f.b)(Object(f.a)(N,"events"))).docs.map(e=>e.data());c(e)}catch(e){console.error("Error fetching events:",e)}};return l.a.createElement("div",null,l.a.createElement("h2",null,"Admin Page"),e?l.a.createElement("div",null,l.a.createElement("p",null,"Welcome, ",e.displayName),l.a.createElement("button",{onClick:async()=>{try{await Object(g.e)(y)}catch(e){console.error("Error during sign-out:",e)}}},"Logout"),l.a.createElement("h3",null,"Upcoming Events"),l.a.createElement("ul",null,a.map((e,t)=>l.a.createElement("li",{key:t},e.name," - ",e.date)))):l.a.createElement("button",{onClick:async()=>{try{await Object(g.d)(y,k)}catch(e){console.error("Error during sign-in:",e)}}},"Login with Google"))},O=a(43);var j=()=>{const e=Object(s.m)(),{participants:t,sex:a,date:c}=e.state||{},r=Object(s.o)();return Object(n.useEffect)(()=>{if(!t||!a||!c)return void r("/");const e=12*t.length;(async()=>{try{const a=await O.a.post("https://api.sumup.com/v0.1/checkouts",{amount:e,currency:"EUR",checkout_reference:"order123",description:"Watermelon Beach Outing and Party - ".concat(t.length," participants"),merchant_code:"YOUR_MERCHANT_CODE",return_url:"https://yourwebsite.com/payment-success",callback_url:"https://yourwebsite.com/payment-callback"},{headers:{Authorization:"Bearer YOUR_ACCESS_TOKEN","Content-Type":"application/json"}});window.location.href=a.data.checkout_url}catch(a){console.error("Error creating checkout:",a)}})()},[t,a,c,r]),l.a.createElement("div",null,l.a.createElement("h2",null,"Processing Payment..."))};a(40);var x=()=>l.a.createElement("div",{className:"introduction-page"},l.a.createElement("div",{className:"contentw"},l.a.createElement("h1",null,"Watermelon Beach Party"),l.a.createElement("h2",null,"What is it?"),l.a.createElement("p",null,"It's a drinking game, or as some would call it, a drinking sport. Two teams, each half male, half female, compete to see who can drink more Vodka and Fanta from a drunk watermelon on the beach. Team Beach and Hostel Mint have 24 contestants total, 12 in each team, 6 male and 6 female. Each contestant has a number written on their shoulder from 1 to 12 and their drinking name written on their arm."),l.a.createElement("h2",null,"How it Works:"),l.a.createElement("p",null,"The coach picks a number, and the contestants with that number from both teams run across the beach (like 10 meters, don't worry) to drink from the watermelon placed between the two teams. The contestant who gets drunk first wins. Needless to say, we are expecting male winners and lots of fun. :)"),l.a.createElement("h2",null,"Schedule:"),l.a.createElement("p",null,l.a.createElement("strong",null,"Start Time:")," The outing starts at about 16:00. We will begin gathering on the beach to get some sun and hydrate or something.",l.a.createElement("br",null),l.a.createElement("strong",null,"Game Start:")," The games will begin at about 19:15."),l.a.createElement("h2",null,"Event Location:"),l.a.createElement("p",null,l.a.createElement("strong",null,"Location:")," Our next event is in Split, Croatia, on Tuesday, June 25th, at Kasjuni Beach. It is a must-see beach located west of the city, right next to Marjan Hill. The place features a DJ on the beach, beds, and a bar."),l.a.createElement("h2",null,"Post-Event Plans:"),l.a.createElement("p",null,l.a.createElement("strong",null,"After-Event:")," After the event, we will visit some bars near Diocletian's Palace."),l.a.createElement("h2",null,"Participation Details:"),l.a.createElement("p",null,l.a.createElement("strong",null,"Sign-Up:")," The signup sheet is at the front desk.",l.a.createElement("br",null),l.a.createElement("strong",null,"Cost:")," The cover is 20 euros per person (12 euros for hostel guests of the Beach and Mint hostels), which includes the game (and obviously, lots of drinking from the watermelon).")),l.a.createElement("div",{className:"button-container"},l.a.createElement(o.b,{to:"/home"},l.a.createElement("button",{className:"signup-button"},"Sign me up"))));var C=function(){return l.a.createElement(o.a,null,l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/",element:l.a.createElement(x,null)}),l.a.createElement(s.a,{path:"home",element:l.a.createElement(i,null)}),l.a.createElement(s.a,{path:"/gender",element:l.a.createElement(m,null)}),l.a.createElement(s.a,{path:"/dates",element:l.a.createElement(p,null)}),l.a.createElement(s.a,{path:"/participant-details",element:l.a.createElement(E,null)}),l.a.createElement(s.a,{path:"/admin",element:l.a.createElement(w,null)}),l.a.createElement(s.a,{path:"/payment",element:l.a.createElement(j,null)})))};var S=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,44)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:c,getTTFB:r}=t;a(e),n(e),l(e),c(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(C,null))),S()}},[[26,1,2]]]);
//# sourceMappingURL=main.cae176f7.chunk.js.map